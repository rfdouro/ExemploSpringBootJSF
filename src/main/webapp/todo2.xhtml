<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
 <h:head>
  <title>TO-DO application----</title>
 </h:head>
 <h:body>
  <ui:composition template="templates/LAYOUT01.xhtml">
   <ui:define name="main">


    <div>
     <div>
      Adicione uma tarefa:
     </div>
     <p:outputLabel for="mensagem" value="Mensagem: "/>
     <p:inputText id="mensagem" value="${todoService.todo.message}"/>
     <p:outputLabel for="prioridade" value="Prioridade: "/>
     <p:inputText id="prioridade" value="${todoService.todo.priority}" converterMessage="Por favor, dígitos apenas."/>
     <p:commandButton value="Salvar" action="${todoService.save}" update="tabela"/>
    </div>
    <div>
     <div>
      Lista de coisas
     </div>
     <p:dataTable id="tabela" value="${todoService.allTodo}" var="item"
                  emptyMessage="Sem registros">
      <p:column width="15%">
       <f:facet name="header">Ações</f:facet>
       <p:commandButton value="Excluir"
        actionListener="${todoService.selectTodo(item.id)}"
                        update="tabela"></p:commandButton>
      </p:column>
      <p:column width="50%">
       <f:facet name="header">Mensagem</f:facet>
        ${item.message}
      </p:column>
      <p:column width="35%">
       <f:facet name="header">Prioridade</f:facet>
        ${item.priority}
      </p:column>
     </p:dataTable>
    </div>


   </ui:define>
  </ui:composition>

 </h:body>
</html>

